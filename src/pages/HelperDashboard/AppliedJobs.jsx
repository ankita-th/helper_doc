import React from "react";
import { Box, Button, Grid, IconButton, Typography, List, ListItem, } from "@mui/material";
import BookmarkBorderIcon from "@mui/icons-material/BookmarkBorder";
import BookmarkIcon from "@mui/icons-material/Bookmark";
import "./HelperDashboard.css";
import { Link } from "react-router-dom";

const AppliedJobs = ({
  jobs,
  handleBookmarkToggle,
  isBookmarked,
}) => {
  return (
    <Grid container spacing={2} className="JobsListRow">
      <Grid item md={12}>
          <Typography variant="h5">My Applications</Typography>
      </Grid>
      {jobs.map((job) => (
        <Grid key={job.id} item md={12}>
          <Box className="JobBox">
            <Box className="JobInfoBox">
              <Box className="jobsFlex">
                <img src="/work.svg" alt="Logo" className="work" />
                <Box className="JobTitle">
                  <Typography variant="h6">{job.title}</Typography>
                  <Typography variant="body1">{job.location}</Typography>
                </Box>
              </Box>
              <Box className="JobdetailBottom">
                <List className="jobDescMini">
                  <ListItem><strong>Start Date:</strong> {job.start_date}</ListItem>
                  <ListItem><strong>Type:</strong> {job.type}</ListItem>
                  <ListItem><strong>Experience:</strong> {job.experience}</ListItem>
                  <ListItem><strong>Location:</strong> {job.location}</ListItem>
                  <ListItem><strong>Language:</strong> {job.language}</ListItem>
                  <ListItem><strong>Map Location:</strong> <span><i>{job.map_location}</i> <Link to={"/"}>See Map</Link></span></ListItem>
                </List>
                <Typography className="postedTime">Posted 5 mins ago</Typography>
              </Box>
            </Box>
            <Box className="JobInfoRight">
              <IconButton
                onClick={() => handleBookmarkToggle(job.id)}
                sx={{ position: "absolute", top: 10, right: 10 }}
              >
                {isBookmarked(job.id) ? (
                  <BookmarkIcon />
                ) : (
                  <BookmarkBorderIcon />
                )}
              </IconButton>
              <div className="appliedTag">
                <svg width="118" height="27" viewBox="0 0 118 27" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M8 0H109V17C109 22.5228 104.523 27 99 27H18C12.4771 27 8 22.5228 8 17V0Z" fill="#0A6259"/>
                  <path d="M8 11H0L8 0V11Z" fill="#0A6259"/>
                  <path d="M118 11L109 0V11H118Z" fill="#0A6259"/>
                  <path d="M34.399 18L38.179 9.6H39.715L43.507 18H41.875L38.623 10.428H39.247L36.007 18H34.399ZM36.139 16.056L36.559 14.832H41.095L41.515 16.056H36.139ZM47.9833 18.084C47.4633 18.084 46.9873 17.964 46.5553 17.724C46.1313 17.484 45.7913 17.124 45.5353 16.644C45.2873 16.156 45.1633 15.54 45.1633 14.796C45.1633 14.044 45.2833 13.428 45.5233 12.948C45.7713 12.468 46.1073 12.112 46.5313 11.88C46.9553 11.64 47.4393 11.52 47.9833 11.52C48.6153 11.52 49.1713 11.656 49.6513 11.928C50.1393 12.2 50.5233 12.58 50.8033 13.068C51.0913 13.556 51.2353 14.132 51.2353 14.796C51.2353 15.46 51.0913 16.04 50.8033 16.536C50.5233 17.024 50.1393 17.404 49.6513 17.676C49.1713 17.948 48.6153 18.084 47.9833 18.084ZM44.4313 20.328V11.592H45.8593V13.104L45.8113 14.808L45.9313 16.512V20.328H44.4313ZM47.8153 16.8C48.1753 16.8 48.4953 16.72 48.7753 16.56C49.0633 16.4 49.2913 16.168 49.4593 15.864C49.6273 15.56 49.7113 15.204 49.7113 14.796C49.7113 14.38 49.6273 14.024 49.4593 13.728C49.2913 13.424 49.0633 13.192 48.7753 13.032C48.4953 12.872 48.1753 12.792 47.8153 12.792C47.4553 12.792 47.1313 12.872 46.8433 13.032C46.5553 13.192 46.3273 13.424 46.1593 13.728C45.9913 14.024 45.9073 14.38 45.9073 14.796C45.9073 15.204 45.9913 15.56 46.1593 15.864C46.3273 16.168 46.5553 16.4 46.8433 16.56C47.1313 16.72 47.4553 16.8 47.8153 16.8ZM56.2098 18.084C55.6898 18.084 55.2138 17.964 54.7818 17.724C54.3578 17.484 54.0178 17.124 53.7618 16.644C53.5138 16.156 53.3898 15.54 53.3898 14.796C53.3898 14.044 53.5098 13.428 53.7498 12.948C53.9978 12.468 54.3338 12.112 54.7578 11.88C55.1818 11.64 55.6658 11.52 56.2098 11.52C56.8418 11.52 57.3978 11.656 57.8778 11.928C58.3658 12.2 58.7498 12.58 59.0298 13.068C59.3178 13.556 59.4618 14.132 59.4618 14.796C59.4618 15.46 59.3178 16.04 59.0298 16.536C58.7498 17.024 58.3658 17.404 57.8778 17.676C57.3978 17.948 56.8418 18.084 56.2098 18.084ZM52.6578 20.328V11.592H54.0858V13.104L54.0378 14.808L54.1578 16.512V20.328H52.6578ZM56.0418 16.8C56.4018 16.8 56.7218 16.72 57.0018 16.56C57.2898 16.4 57.5178 16.168 57.6858 15.864C57.8538 15.56 57.9378 15.204 57.9378 14.796C57.9378 14.38 57.8538 14.024 57.6858 13.728C57.5178 13.424 57.2898 13.192 57.0018 13.032C56.7218 12.872 56.4018 12.792 56.0418 12.792C55.6818 12.792 55.3578 12.872 55.0698 13.032C54.7818 13.192 54.5538 13.424 54.3858 13.728C54.2178 14.024 54.1338 14.38 54.1338 14.796C54.1338 15.204 54.2178 15.56 54.3858 15.864C54.5538 16.168 54.7818 16.4 55.0698 16.56C55.3578 16.72 55.6818 16.8 56.0418 16.8ZM60.8844 18V9.096H62.3844V18H60.8844ZM64.3531 18V11.592H65.8531V18H64.3531ZM65.1091 10.536C64.8291 10.536 64.5971 10.448 64.4131 10.272C64.2371 10.096 64.1491 9.884 64.1491 9.636C64.1491 9.38 64.2371 9.168 64.4131 9C64.5971 8.824 64.8291 8.736 65.1091 8.736C65.3891 8.736 65.6171 8.82 65.7931 8.988C65.9771 9.148 66.0691 9.352 66.0691 9.6C66.0691 9.864 65.9811 10.088 65.8051 10.272C65.6291 10.448 65.3971 10.536 65.1091 10.536ZM70.8339 18.084C70.1219 18.084 69.4979 17.944 68.9619 17.664C68.4339 17.376 68.0219 16.984 67.7259 16.488C67.4379 15.992 67.2939 15.428 67.2939 14.796C67.2939 14.156 67.4339 13.592 67.7139 13.104C68.0019 12.608 68.3939 12.22 68.8899 11.94C69.3939 11.66 69.9659 11.52 70.6059 11.52C71.2299 11.52 71.7859 11.656 72.2739 11.928C72.7619 12.2 73.1459 12.584 73.4259 13.08C73.7059 13.576 73.8459 14.16 73.8459 14.832C73.8459 14.896 73.8419 14.968 73.8339 15.048C73.8339 15.128 73.8299 15.204 73.8219 15.276H68.4819V14.28H73.0299L72.4419 14.592C72.4499 14.224 72.3739 13.9 72.2139 13.62C72.0539 13.34 71.8339 13.12 71.5539 12.96C71.2819 12.8 70.9659 12.72 70.6059 12.72C70.2379 12.72 69.9139 12.8 69.6339 12.96C69.3619 13.12 69.1459 13.344 68.9859 13.632C68.8339 13.912 68.7579 14.244 68.7579 14.628V14.868C68.7579 15.252 68.8459 15.592 69.0219 15.888C69.1979 16.184 69.4459 16.412 69.7659 16.572C70.0859 16.732 70.4539 16.812 70.8699 16.812C71.2299 16.812 71.5539 16.756 71.8419 16.644C72.1299 16.532 72.3859 16.356 72.6099 16.116L73.4139 17.04C73.1259 17.376 72.7619 17.636 72.3219 17.82C71.8899 17.996 71.3939 18.084 70.8339 18.084ZM77.9987 18.084C77.3827 18.084 76.8267 17.948 76.3307 17.676C75.8427 17.396 75.4587 17.012 75.1787 16.524C74.8987 16.036 74.7587 15.46 74.7587 14.796C74.7587 14.132 74.8987 13.556 75.1787 13.068C75.4587 12.58 75.8427 12.2 76.3307 11.928C76.8267 11.656 77.3827 11.52 77.9987 11.52C78.5347 11.52 79.0147 11.64 79.4387 11.88C79.8627 12.112 80.1987 12.468 80.4467 12.948C80.6947 13.428 80.8187 14.044 80.8187 14.796C80.8187 15.54 80.6987 16.156 80.4587 16.644C80.2187 17.124 79.8867 17.484 79.4627 17.724C79.0387 17.964 78.5507 18.084 77.9987 18.084ZM78.1787 16.8C78.5387 16.8 78.8587 16.72 79.1387 16.56C79.4267 16.4 79.6547 16.168 79.8227 15.864C79.9987 15.56 80.0867 15.204 80.0867 14.796C80.0867 14.38 79.9987 14.024 79.8227 13.728C79.6547 13.424 79.4267 13.192 79.1387 13.032C78.8587 12.872 78.5387 12.792 78.1787 12.792C77.8187 12.792 77.4947 12.872 77.2067 13.032C76.9267 13.192 76.6987 13.424 76.5227 13.728C76.3547 14.024 76.2707 14.38 76.2707 14.796C76.2707 15.204 76.3547 15.56 76.5227 15.864C76.6987 16.168 76.9267 16.4 77.2067 16.56C77.4947 16.72 77.8187 16.8 78.1787 16.8ZM80.1227 18V16.488L80.1827 14.784L80.0627 13.08V9.096H81.5507V18H80.1227Z" fill="white"/>
                </svg>
              </div>
              <div className="featuredTag">
                <svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <g clip-path="url(#clip0_404_4641)">
                    <path d="M10.5 21C16.299 21 21 16.299 21 10.5C21 4.70101 16.299 0 10.5 0C4.70101 0 0 4.70101 0 10.5C0 16.299 4.70101 21 10.5 21Z" fill="#55DBA6"/>
                    <path opacity="0.3" d="M20.9992 10.465L15.8788 5.34473L5.3457 15.8778L10.4674 20.9996C10.4782 20.9996 10.4888 21 10.4995 21C16.2985 21 20.9995 16.2989 20.9995 10.5C20.9996 10.4883 20.9992 10.4767 20.9992 10.465Z" fill="#0A6259"/>
                    <path d="M6.5997 4.66699H14.401C15.4683 4.66699 16.3337 5.53231 16.3337 6.5997V14.401C16.3337 15.4683 15.4683 16.3337 14.401 16.3337H6.5997C5.53231 16.3337 4.66699 15.4683 4.66699 14.401V6.5997C4.66699 5.53231 5.53231 4.66699 6.5997 4.66699Z" fill="black"/>
                    <path d="M10.8328 6.74486L11.8969 8.6787C11.9515 8.7779 12.0475 8.84762 12.1587 8.8689L14.3268 9.28331C14.6212 9.3396 14.7378 9.69851 14.5327 9.91713L13.0223 11.5267C12.9448 11.6093 12.9082 11.7221 12.9223 11.8345L13.1981 14.0244C13.2356 14.3218 12.9303 14.5436 12.659 14.4162L10.6614 13.4771C10.559 13.4289 10.4403 13.4289 10.3378 13.4771L8.34028 14.4162C8.06898 14.5437 7.76366 14.3218 7.80114 14.0244L8.07697 11.8345C8.09111 11.7221 8.05448 11.6093 7.97699 11.5267L6.46661 9.91713C6.26149 9.69851 6.37809 9.3396 6.67251 9.28331L8.84053 8.8689C8.95175 8.84762 9.0477 8.7779 9.10236 8.6787L10.1664 6.74486C10.311 6.48218 10.6883 6.48218 10.8328 6.74486Z" fill="#EFFFF9"/>
                  </g>
                  <defs>
                    <clipPath id="clip0_404_4641">
                      <rect width="21" height="21" fill="white"/>
                    </clipPath>
                  </defs>
                </svg>
                Featured
              </div>
              <Typography variant="h6">
                {job.titleRight}
              </Typography>
              <Typography variant="body1">
                {job.description}
              </Typography>
              <Box className="buttonFlex">
                <Button className="green-btn small">
                  Contact
                </Button>
                <Button className="arrowButton small">Apply Job</Button>
              </Box>
            </Box>
          </Box>
        </Grid>
      ))}
    </Grid>
  );
};

export default AppliedJobs;
